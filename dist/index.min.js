!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("preact")):"function"==typeof define&&define.amd?define(["preact"],e):t["preact-async-route"]=e(t.preact)}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r=function(r){function p(){e(this,p);var t=n(this,r.call(this));return t.state={componentData:null},t}return o(p,r),p.prototype.loadComponent=function(){var t=this,e=this.props.component(this.props.url,function(e){var n=e.component;n&&t.setState({componentData:n})});e&&e.then&&!function(n){e.then(function(e){n===t.props.url&&t.setState({componentData:e})})}(this.props.url)},p.prototype.componentDidMount=function(){this.loadComponent()},p.prototype.componentWillReceiveProps=function(t){var e=this;this.props.url&&this.props.url!==t.url&&this.setState({componentData:null},function(){e.loadComponent()})},p.prototype.render=function(){if(this.state.componentData)return t.h(this.state.componentData,this.props);if(this.props.loading){var e=this.props.loading();return e}return null},p}(t.Component);return r});
//# sourceMappingURL=index.min.js.map